<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.lms.lmsfinal.LoginController"
            fx:id="root"
            prefWidth="1000.0" prefHeight="700.0"
            style="-fx-background-color: linear-gradient(to bottom, #0b1220, #111827);">

    <center>
        <VBox alignment="CENTER" spacing="18.0" maxWidth="420">
            <padding>
                <Insets top="40" bottom="40" left="40" right="40"/>
            </padding>

            <!-- Logo -->
            <ImageView fitWidth="110" preserveRatio="true">
                <image>
                    <Image url="@images/library_logo.png"/>
                </image>
            </ImageView>

            <!-- Title -->
            <Label fx:id="formTitle" text="Sign in" textFill="WHITE">
                <font>
                    <Font name="System Bold" size="26"/>
                </font>
            </Label>

            <!-- Email + Password -->
            <VBox spacing="8">
                <Label text="Email" textFill="#9ca3af"/>
                <TextField fx:id="emailField"
                           promptText="you@school.edu"
                           style="-fx-background-radius: 8; -fx-background-color: #1F2937; -fx-text-fill: white; -fx-prompt-text-fill: #6b7280;"/>

                <Label text="Password" textFill="#9ca3af"/>
                <PasswordField fx:id="passwordField"
                               promptText="••••••••"
                               onAction="#onLogin"
                               style="-fx-background-radius: 8; -fx-background-color: #1F2937; -fx-text-fill: white; -fx-prompt-text-fill: #6b7280;"/>

                <!-- Forgot password link -->
                <Hyperlink fx:id="forgotLink"
                           text="Forgot password?"
                           onAction="#onForgotPassword"
                           textFill="#93c5fd"
                           BorderPane.alignment="CENTER_LEFT"/>
            </VBox>

            <!-- Buttons (toggled by controller) -->
            <Button fx:id="loginButton"
                    text="Login"
                    onAction="#onLogin"
                    maxWidth="Infinity"
                    style="-fx-background-color: #2563EB; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 8 22 8 22;"/>

            <Button fx:id="registerButton"
                    text="Register"
                    onAction="#onRegister"
                    maxWidth="Infinity"
                    visible="false"
                    managed="false"
                    style="-fx-background-color: #10B981; -fx-text-fill: white; -fx-background-radius: 8; -fx-padding: 8 22 8 22;"/>

            <!-- Error message -->
            <Label fx:id="errorLabel"
                   textFill="#ef4444"
                   wrapText="true"/>

            <!-- Toggle link -->
            <Hyperlink fx:id="toggleLink"
                       text="Need an account? Register here."
                       onAction="#toggleMode"
                       textFill="#06b6d4"/>
        </VBox>
    </center>
</BorderPane>
